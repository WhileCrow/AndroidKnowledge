
![](https://github.com/WhileCrow/AndroidKnowledge/blob/main/MemoryLeak/pic2.png)

![](https://images2015.cnblogs.com/blog/331425/201606/331425-20160623115838891-809895495.png)


#堆内存#
堆内存是JVM中最大的一块由年轻代和老年代组成，而年轻代内存又被分成三部分，Eden空间、From Survivor空间、To Survivor空间,默认情况下年轻代按照8:1:1的比例来分配；

是JVM所管理的内存中最大的一块。唯一目的就是存放实例对象，几乎所有的对象实例都在这里分配。Java堆是垃圾收集器管理的主要区域，因此很多时候也被称为“GC堆”。

#方法区#
虽然叫方法区，但跟方法是没什么关西的。
方法区存储**类信息、常量、静态变量**等数据，是线程共享的区域，为与Java堆区分，方法区还有一个别名Non-Heap(非堆)；

----------

**上为所有线程共享   
下为线程私有**

----------


#栈#
栈又分为jvm栈和本地方法栈主要用于方法的执行。


### jvm栈 ###
它的生命周期与线程相同。虚拟机栈描述的是Java方法执行的内存模型：每个方法被执行的时候都会同时创建一个栈帧（Stack Frame）用于**存储局部变量表**、操作栈、动态链接、方法出口等信息。每一个方法被调用直至执行完成的过程，就对应着一个栈帧在虚拟机栈中从入栈到出栈的过程。 


> 局部变量表存放了编译期可知的各种基本数据类型（boolean、byte、char、short、int、float、long、double）、**对象引用（reference类型，它不等同于对象本身，根据不同的虚拟机实现，它可能是一个指向对象起始地址的引用指针，也可能指向一个代表对象的句柄或者其他与此对象相关的位置**）和returnAddress类型（指向了一条字节码指令的地址）。
> 

### 本地方法栈 ###
虚拟机栈为虚拟机执行java方法，而本地方法栈为虚拟机使用到的Native方法服务。


# 程序计数器 #
一块较小的内存，当前线程所执行的字节码的行号指示器。字节码解释器工作时，就是通过改变这个计数器的值来选取下一条需要执行的字节码指令。


